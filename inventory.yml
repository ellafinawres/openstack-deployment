all:
  vars:
    proxy_jump_pass: "{{ proxy_jump_pass }}"   # variable qui sera lue depuis le vault
  children:
    controller:
      hosts:
        controller-node:
          ansible_host: 10.0.0.11
          ansible_user: openstack
          ansible_ssh_private_key_file: /var/lib/jenkins/.ssh/openstack_key.pem
          ansible_ssh_common_args: "-o ProxyCommand='sshpass -p {{ proxy_jump_pass }} ssh -W %h:%p root@172.26.32.11 -o StrictHostKeyChecking=no'"
    compute:
      hosts:
        compute-node:
          ansible_host: 10.0.0.21
          ansible_user: openstack
          ansible_ssh_private_key_file: /var/lib/jenkins/.ssh/openstack_key.pem
          ansible_ssh_common_args: "-o ProxyCommand='sshpass -p {{ proxy_jump_pass }} ssh -W %h:%p root@172.26.32.11 -o StrictHostKeyChecking=no'"
    storage:
      hosts:
        storage-node:
          ansible_host: 10.0.0.31
          ansible_user: openstack
          ansible_ssh_private_key_file: /var/lib/jenkins/.ssh/openstack_key.pem
          ansible_ssh_common_args: "-o ProxyCommand='sshpass -p {{ proxy_jump_pass }} ssh -W %h:%p root@172.26.32.11 -o StrictHostKeyChecking=no'"
